<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Shinnok at localhost."/>
<meta name="keywords" content="shinnok, exploits, vulnerabilities, buffer overflow, cyber-security, unix, linux, open-source, c++, Qt, programming, cross-platform"/>
<meta name="author" content="Shinnok"/>
<link rel="icon" href="/img/shinnok.png" type="image/png" />
<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="/style.css"/>
<title>Shinnok @127.0.0.1</title>
</head>

<body>
<div class="main">
<div id="header">
        <div id="gfx">
            <div id="hexdump">
                <script>
                 var p=0,q=-12;function a(){if(window.setTimeout&&document.getElementsByTagName){var o=(2<<6);var b=document.getElementsByTagName("pre")[0];b.style.top=(p-o)+"pt";var l=document.getElementsByTagName("b");var o=-(p-o)+"pt";for(var a in l){if(l[a].style)l[a].style.top=o;}p+=q;if(p<-2<<9||p>=0)q=-q;window.setTimeout(this.a,2<<8);}};

                var xhr = new XMLHttpRequest();
                xhr.onreadystatechange = function() {
                  if (xhr.readyState === 4 && xhr.status === 200) {
                    document.getElementById("hexdump").innerHTML = xhr.responseText;
                    a();
                  }
                };
                xhr.open("GET", "/hexdump.html", true);
                xhr.send();
                </script>
            </div>

            <div id="logo"><h1><a href="#">Shinnok @127.0.0.1</a></h1></div>
            <div class="quote" id="head-quote"><h4><a href="/">When in doubt, use brute force</a></h4></div>
        </div>
        <div class="menu">
                <a href="/"><center><span>Home</span></center></a>
                <a href="/rants/"><center><span>Rants</span></center></a>
                <a href="/vulns/"><center><span>Vulns/Exploits</span></center></a>
                <a href="/projects/"><center><span>Projects</span></center></a>
                <a href="/stuff/"><center><span>Stuff</span></center></a>
                <a href="/about/" id="last"><center><span>About</span></center></a>
        </div>
</div> <!--header-->

<div class="content">


<div class="item">
<h2 class="title">
<a href="https:&#x2F;&#x2F;shinnok.com&#x2F;rants&#x2F;2009&#x2F;03&#x2F;djbdns-bug-finder-awarded-1000&#x2F;">Djbdns bug finder awarded 1000$</a>
</h2>
<p class="subtitle"><strong>2009-03-04</strong></p>
</div>
<div class="item">
<blockquote>
<p>From: D. J. Bernstein &lt;djb <at> cr.yp.to&gt; Subject: <a href="https://news.gmane.org/find-root.php?message_id=%3c20090304013421.60368.qmail%40cr.yp.to%3e">djbdns&lt;=1.05 lets AXFRed subdomains overwrite domains</a> Newsgroups: <a href="https://news.gmane.org/gmane.network.djbdns">gmane.network.djbdns</a> Date: 2009-03-04 01:34:21 GMT (11 hours and 49 minutes ago)</p>
<p>If the administrator of example.com publishes the example.com DNS data
through tinydns and axfrdns, and includes data for sub.example.com
transferred from an untrusted third party, then that third party can
control cache entries for example.com, not just sub.example.com. This is
the result of a bug in djbdns pointed out by Matthew Dempsky. (In short,
axfrdns compresses some outgoing DNS packets incorrectly.)</p>
<p>Even though this bug affects very few users, it is a violation of the
expected security policy in a reasonable situation, so it is a security
hole in djbdns. Third-party DNS service is discouraged in the djbdns
documentation but is nevertheless supported. Dempsky is hereby awarded
$1000.</p>
<p>The next release of djbdns will be backed by a new security guarantee.
In the meantime, if any users are in the situation described above,
those users are advised to apply Dempsky's patch and requested to accept
my apologies. The patch is also recommended for other users; it corrects
the bug without any side effects. A copy of the patch appears below.</p>
<p>---D. J. Bernstein
Research Professor, Computer Science, University of Illinois at Chicago</p>
<p>--- response.c.orig     2009-02-24 21:04:06.000000000 -0800
+++ response.c  2009-02-24 21:04:25.000000000 -0800
@@ -34,7 +34,7 @@
uint16_pack_big(buf,49152 + name_ptr[i]);
return response_addbytes(buf,2);
}</p>
<ul>
<li>if (dlen &lt;= 128)</li>
</ul>
<ul>
<li>if ((dlen &lt;= 128) &amp;&amp; (response_len &lt; 16384))
if (name_num &lt; NAMES) {
byte_copy(name[name_num],dlen,d);
name_ptr[name_num] = response_len;
<a href="https://article.gmane.org/gmane.network.djbdns/13864">source</a></li>
</ul>
<p><a href="https://cr.yp.to/djbdns.html">djbdns</a></p>
</blockquote>

</div>

</div>

<div class="footer">&copy; copycats 1970 <a href="#">â†¥</a></div>
</div> <!--main-->
</body>
</html>

